{"ast":null,"code":"import _defineProperty from \"/Users/marleywatson/Development/phase-2-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/marleywatson/Development/phase-2-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/marleywatson/Development/phase-2-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/marleywatson/Development/phase-2-project/src/components/ItemUpdateForm.js\";\nimport React, { useState } from \"react\";\nimport { useParams } from \"react-router\";\nfunction ItemUpdateForm(_ref) {\n  var handleUpdateItem = _ref.handleUpdateItem;\n  var initialFormData = {\n    last_worn: \"\"\n  };\n  var params = useParams();\n  //const [formData, setFormData] = useState(initialFormData)\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    formData = _useState2[0],\n    setFormData = _useState2[1];\n  var handleChange = function handleChange(e) {\n    setFormData(_objectSpread({}, formData, _defineProperty({}, e.target.name, e.target.value)));\n  };\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    var updatedItem = _objectSpread({}, formData);\n    console.log(updatedItem);\n    fetch(\"http://localhost:9292/closet/\".concat(params.id), {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(updatedItem)\n    }).then(function (r) {\n      return r.json();\n    }).then(function (item) {\n      return handleSubmit(item.id);\n    });\n    setFormData(initialFormData);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"item-update-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, \"Last Worn\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    name: \"last_worn\",\n    placeholder: \"Last Worn Date\",\n    value: formData.last_worn,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, \"Update Last Worn Date\")));\n}\nexport default ItemUpdateForm;","map":{"version":3,"names":["React","useState","useParams","ItemUpdateForm","handleUpdateItem","initialFormData","last_worn","params","formData","setFormData","handleChange","e","target","name","value","handleSubmit","preventDefault","updatedItem","console","log","fetch","id","method","headers","body","JSON","stringify","then","r","json","item"],"sources":["/Users/marleywatson/Development/phase-2-project/src/components/ItemUpdateForm.js"],"sourcesContent":["\nimport React, {useState} from \"react\";\nimport { useParams } from \"react-router\";\n\n\nfunction ItemUpdateForm({handleUpdateItem}) {\n  const initialFormData = {last_worn: \"\"}\n  const params = useParams();\n  //const [formData, setFormData] = useState(initialFormData)\n  const [formData, setFormData] = useState([])\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]:e.target.value\n    })\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    const updatedItem = {\n      ...formData\n    }\n    console.log(updatedItem)\n    fetch(`http://localhost:9292/closet/${params.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(updatedItem),\n    })\n        .then((r) => r.json())\n        .then((item) => handleSubmit(item.id))\n        setFormData(initialFormData)\n  };\n\n  return (\n    <div className=\"item-update-form\">\n      <h3>Last Worn</h3>\n      <form onSubmit={handleSubmit}>\n        <input type=\"date\" name=\"last_worn\" placeholder=\"Last Worn Date\" value={formData.last_worn} onChange={handleChange}/>\n        <button type=\"submit\">Update Last Worn Date</button>\n      </form>\n    </div>\n  );\n}\n\n\nexport default ItemUpdateForm;\n"],"mappings":";;;;AACA,OAAOA,KAAK,IAAGC,QAAQ,QAAO,OAAO;AACrC,SAASC,SAAS,QAAQ,cAAc;AAGxC,SAASC,cAAc,OAAqB;EAAA,IAAnBC,gBAAgB,QAAhBA,gBAAgB;EACvC,IAAMC,eAAe,GAAG;IAACC,SAAS,EAAE;EAAE,CAAC;EACvC,IAAMC,MAAM,GAAGL,SAAS,EAAE;EAC1B;EAAA,gBACgCD,QAAQ,CAAC,EAAE,CAAC;IAAA;IAArCO,QAAQ;IAAEC,WAAW;EAC5B,IAAMC,YAAY,GAAG,SAAfA,YAAY,CAAIC,CAAC,EAAK;IAC1BF,WAAW,mBACND,QAAQ,sBACVG,CAAC,CAACC,MAAM,CAACC,IAAI,EAAEF,CAAC,CAACC,MAAM,CAACE,KAAK,GAC9B;EACJ,CAAC;EAED,IAAMC,YAAY,GAAG,SAAfA,YAAY,CAAIJ,CAAC,EAAK;IAC1BA,CAAC,CAACK,cAAc,EAAE;IAElB,IAAMC,WAAW,qBACZT,QAAQ,CACZ;IACDU,OAAO,CAACC,GAAG,CAACF,WAAW,CAAC;IACxBG,KAAK,wCAAiCb,MAAM,CAACc,EAAE,GAAI;MACjDC,MAAM,EAAE,OAAO;MACfC,OAAO,EAAE;QACP,cAAc,EAAE;MAChB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACT,WAAW;IACpC,CAAC,CAAC,CACGU,IAAI,CAAC,UAACC,CAAC;MAAA,OAAKA,CAAC,CAACC,IAAI,EAAE;IAAA,EAAC,CACrBF,IAAI,CAAC,UAACG,IAAI;MAAA,OAAKf,YAAY,CAACe,IAAI,CAACT,EAAE,CAAC;IAAA,EAAC;IACtCZ,WAAW,CAACJ,eAAe,CAAC;EAClC,CAAC;EAED,oBACE;IAAK,SAAS,EAAC,kBAAkB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC/B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,eAAkB,eAClB;IAAM,QAAQ,EAAEU,YAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC3B;IAAO,IAAI,EAAC,MAAM;IAAC,IAAI,EAAC,WAAW;IAAC,WAAW,EAAC,gBAAgB;IAAC,KAAK,EAAEP,QAAQ,CAACF,SAAU;IAAC,QAAQ,EAAEI,YAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAE,eACrH;IAAQ,IAAI,EAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,2BAA+B,CAC/C,CACH;AAEV;AAGA,eAAeP,cAAc"},"metadata":{},"sourceType":"module"}