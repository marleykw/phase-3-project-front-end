{"ast":null,"code":"import _defineProperty from \"/Users/marleywatson/Development/phase-2-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/marleywatson/Development/phase-2-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/marleywatson/Development/phase-2-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/marleywatson/Development/phase-2-project/src/components/ItemUpdateForm.js\";\nimport React, { useState } from \"react\";\nfunction ItemUpdateForm(_ref) {\n  var itemInfo = _ref.itemInfo,\n    id = _ref.id,\n    handleUpdateItem = _ref.handleUpdateItem;\n  console.log(itemInfo.id);\n  var initialFormData = {\n    name: itemInfo.name,\n    image: itemInfo.url,\n    price: itemInfo.price,\n    date: itemInfo.last_worn\n  };\n  var _useState = useState(initialFormData),\n    _useState2 = _slicedToArray(_useState, 2),\n    formData = _useState2[0],\n    setFormData = _useState2[1];\n  var handleChange = function handleChange(e) {\n    setFormData(_objectSpread({}, formData, _defineProperty({}, e.target.name, e.target.value)));\n  };\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    var updatedItem = _objectSpread({}, formData);\n    //console.log(updatedItem)\n    fetch(\"http://localhost:9292/closet/\".concat(itemInfo.id), {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(updatedItem)\n    }).then(function (r) {\n      return r.json();\n    }).then(function (item) {\n      return handleUpdateItem(item);\n    });\n    setFormData(initialFormData);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"item-update-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, \"Update Item Details\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    placeholder: itemInfo.name,\n    value: formData.name,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"image\",\n    placeholder: itemInfo.url,\n    value: formData.image,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    name: \"price\",\n    placeholder: itemInfo.price,\n    value: formData.price,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, \"Update Item\")));\n}\nexport default ItemUpdateForm;","map":{"version":3,"names":["React","useState","ItemUpdateForm","itemInfo","id","handleUpdateItem","console","log","initialFormData","name","image","url","price","date","last_worn","formData","setFormData","handleChange","e","target","value","handleSubmit","preventDefault","updatedItem","fetch","method","headers","body","JSON","stringify","then","r","json","item"],"sources":["/Users/marleywatson/Development/phase-2-project/src/components/ItemUpdateForm.js"],"sourcesContent":["\nimport React, {useState} from \"react\";\n\nfunction ItemUpdateForm({itemInfo, id, handleUpdateItem}) {\n    console.log(itemInfo.id)\n  const initialFormData = {\n    name: itemInfo.name,\n    image: itemInfo.url,\n    price: itemInfo.price,\n    date: itemInfo.last_worn\n  }\n  const [formData, setFormData] = useState(initialFormData)\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]:e.target.value\n    })\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    const updatedItem = {\n      ...formData\n    }\n    //console.log(updatedItem)\n    fetch(`http://localhost:9292/closet/${itemInfo.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(updatedItem),\n    })\n        .then((r) => r.json())\n        .then((item) => handleUpdateItem(item))\n\n        setFormData(initialFormData)\n  };\n\n  return (\n    <div className=\"item-update-form\">\n      <h2>Update Item Details</h2>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" name=\"name\" placeholder={itemInfo.name} value={formData.name} onChange={handleChange}/>\n        <input type=\"text\" name=\"image\" placeholder={itemInfo.url} value={formData.image} onChange={handleChange}/>\n        <input type=\"number\" name=\"price\" placeholder={itemInfo.price}value={formData.price} onChange={handleChange}/>\n        <button type=\"submit\">Update Item</button>\n      </form>\n    </div>\n  );\n}\n\n\nexport default ItemUpdateForm;\n"],"mappings":";;;;AACA,OAAOA,KAAK,IAAGC,QAAQ,QAAO,OAAO;AAErC,SAASC,cAAc,OAAmC;EAAA,IAAjCC,QAAQ,QAARA,QAAQ;IAAEC,EAAE,QAAFA,EAAE;IAAEC,gBAAgB,QAAhBA,gBAAgB;EACnDC,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACC,EAAE,CAAC;EAC1B,IAAMI,eAAe,GAAG;IACtBC,IAAI,EAAEN,QAAQ,CAACM,IAAI;IACnBC,KAAK,EAAEP,QAAQ,CAACQ,GAAG;IACnBC,KAAK,EAAET,QAAQ,CAACS,KAAK;IACrBC,IAAI,EAAEV,QAAQ,CAACW;EACjB,CAAC;EAAA,gBAC+Bb,QAAQ,CAACO,eAAe,CAAC;IAAA;IAAlDO,QAAQ;IAAEC,WAAW;EAE5B,IAAMC,YAAY,GAAG,SAAfA,YAAY,CAAIC,CAAC,EAAK;IAC1BF,WAAW,mBACND,QAAQ,sBACVG,CAAC,CAACC,MAAM,CAACV,IAAI,EAAES,CAAC,CAACC,MAAM,CAACC,KAAK,GAC9B;EACJ,CAAC;EAED,IAAMC,YAAY,GAAG,SAAfA,YAAY,CAAIH,CAAC,EAAK;IAC1BA,CAAC,CAACI,cAAc,EAAE;IAElB,IAAMC,WAAW,qBACZR,QAAQ,CACZ;IACD;IACAS,KAAK,wCAAiCrB,QAAQ,CAACC,EAAE,GAAI;MACnDqB,MAAM,EAAE,OAAO;MACfC,OAAO,EAAE;QACP,cAAc,EAAE;MAChB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACN,WAAW;IACpC,CAAC,CAAC,CACGO,IAAI,CAAC,UAACC,CAAC;MAAA,OAAKA,CAAC,CAACC,IAAI,EAAE;IAAA,EAAC,CACrBF,IAAI,CAAC,UAACG,IAAI;MAAA,OAAK5B,gBAAgB,CAAC4B,IAAI,CAAC;IAAA,EAAC;IAEvCjB,WAAW,CAACR,eAAe,CAAC;EAClC,CAAC;EAED,oBACE;IAAK,SAAS,EAAC,kBAAkB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC/B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,yBAA4B,eAC5B;IAAM,QAAQ,EAAEa,YAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC3B;IAAO,IAAI,EAAC,MAAM;IAAC,IAAI,EAAC,MAAM;IAAC,WAAW,EAAElB,QAAQ,CAACM,IAAK;IAAC,KAAK,EAAEM,QAAQ,CAACN,IAAK;IAAC,QAAQ,EAAEQ,YAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAE,eAC1G;IAAO,IAAI,EAAC,MAAM;IAAC,IAAI,EAAC,OAAO;IAAC,WAAW,EAAEd,QAAQ,CAACQ,GAAI;IAAC,KAAK,EAAEI,QAAQ,CAACL,KAAM;IAAC,QAAQ,EAAEO,YAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAE,eAC3G;IAAO,IAAI,EAAC,QAAQ;IAAC,IAAI,EAAC,OAAO;IAAC,WAAW,EAAEd,QAAQ,CAACS,KAAM;IAAA,KAAK,EAAEG,QAAQ,CAACH,KAAM;IAAC,QAAQ,EAAEK,YAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAE,eAC9G;IAAQ,IAAI,EAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,iBAAqB,CACrC,CACH;AAEV;AAGA,eAAef,cAAc"},"metadata":{},"sourceType":"module"}